<html>
  <head>
    <script src='./codemirror/lib/codemirror.js'></script>
    <link href='./style.css' rel='stylesheet'>
    <link href='./codemirror/lib/codemirror.css' rel='stylesheet'>
    <script src="./codemirror/mode/javascript/javascript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@0.10.2/lib/p5.js"></script>
    <script src="./polar.js"></script>
    <script src="./sketch.js"></script>
  </head>
  <body>
    <div id='container'>
      <div id='codemirror'></div>
      <div id='console'>
        <span>Console</span>
        <hr>
        <div id="msg"></div>
      </div>
      <div id='polar'>
        <div id='sketch1' class='col1'></div>
        <div id='sketch2' class='col2'></div>
        <div id='sketch3' class='col3'></div>
        <div id='sketch4' class='col1'></div>
        <div id='sketch5' class='col2'></div>
        <div id='sketch6' class='col3'></div>
        <div id='sketch7' class='row3'></div>
        <div id='sketch8' class='row3'></div>
        <div id='sketch9' class='row3'></div>
      </div>
    </div>
  </body>
  <script>
    window.onload = function() {
      let value = `/* Welcome to p5.Polar */

function draw() {
  // type your code here
}`;
      const editor = CodeMirror(document.querySelector('#codemirror'), { 
        // value: '// type your code here',
        mode: 'javascript',
        lineNumbers: true,
        autofocus: true,
        theme: 'tomorrow-night-bright'
      });

      editor.setValue(value);
      console.log(editor.getValue())

      editor.setOption('extraKeys', {
        'Shift-Enter': function(cm) {
          try {
            eval(cm.getValue());
          } 
          catch (error) {
            document.getElementById('msg').innerText = error;
          }
        }
      });
    }
  </script>
</html>